---
title: "Spotify Data Analysis"
subtitle: "Comparison of Audio Features Between Multiple Artists"
author: 
  - Gadiel David Flores, Tina Kim, Dannie Dai Dai, Yanfei Huang, Manjun Zhu
thanks: "Code and data are available at: https://github.com/DavidFJ207/spotify_analysis"
date: today
date-format: long
abstract: "Using the `spotifyr` package, this paper analyzes audio data features `danceability`, `energy`, and `loudness` by comparing between three artists, `Coldplay`, `Radiohead`, and `The National`."
format: pdf
number-sections: true
bibliography: references.bib
---
```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)

# Call the cleaned data
music_data <- 
  read_csv(file = here::here("data/analysis_data/music_data.csv"), 
           show_col_types = FALSE)

```

# Introduction
This paper provides an analysis of music using the Spotify API [@spotify-api]. In this analysis, we examine three singers: Coldplay, Radiohead and The National. By utilizing Spotify’s extensive database of music and the Spotify API, we analysis three key audio features: Energy, danceability and loudness, which provide quantitative insights into the musical characteristics of each band. Coldplay, Radiohead, and The National differ slightly in musical style: The National shows higher danceability, while Coldplay has greater energy and loudness than Radiohead.  

# Data {#sec-data}
For each artist, audio features of their tracks were downloaded from Spotify API [@spotify-api], including `danceability`, `energy`, and `loudness`. `Danceability` refers to how suitable the audio is for dancing using elements sush as tempo, rhythm, and beat strength. A value of 0.0 is least danceable and 1.0 is most danceable. `Energy` takes into account dynamic range, perceived loudness, timbre, onset rate, and general entropy on a scale of 0.0 to 0.1 where energetic tracks feel fast, loud, and noisy. `Loudness` refers to overall loudness of a track in decibels (dB) typically between -60 and 0 db.

```{r}
#| label: fig-data-summary
#| fig-cap: Data summary of audio features for Coldplay
#| echo: false
#| warning: false
#| message: false

# Load the data 
music <- read.csv(here::here("data/analysis_data/music_data.csv"))
# bar plot Energy
ggplot(music, aes(x = Band, y = Energy, fill = as.factor(Energy))) +
  geom_bar(stat = "identity", position = "dodge") +  
  labs(title = "Energy",
       x = "Band",
       y = "Energy",
       fill = "Band") + 
  theme_minimal() +  
  scale_fill_grey(start = 0.8, end = 0.2) +  
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),  
    plot.title = element_text(hjust = 0.5),  
    legend.position = "top"  
  )

# bar plot Loudness
ggplot(music, aes(x = Band, y = Loudness, fill = as.factor(Loudness))) +
  geom_bar(stat = "identity", position = "dodge") +  
  labs(title = "Loudness",
       x = "Band",
       y = "Loudness",
       fill = "Band") + 
  theme_minimal() +  
  scale_fill_grey(start = 0.8, end = 0.2) +  
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),  
    plot.title = element_text(hjust = 0.5),  
    legend.position = "top"  
  )
```

# Results {#sec-results}


```{r}
#| label: fig-danceability
#| fig-cap: Average Danceability for Coldplay, Radiohead, and The National
#| echo: false
#| warning: false
#| message: false

# Load the data 
music <- read.csv(here::here("data/analysis_data/music_data.csv"))

# bar plot Danceability
ggplot(music, aes(x = Band, y = Danceability, fill = as.factor(Danceability))) +
  geom_bar(stat = "identity", position = "dodge") +  
  labs(title = "Danceability",
       x = "Band",
       y = "Danceability",
       fill = "Band") + 
  theme_minimal() +  
  scale_fill_grey(start = 0.8, end = 0.2) +  
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),  
    plot.title = element_text(hjust = 0.5),  
    legend.position = "top"  
  )
```


## Trends {#sec-trends}
As shown in  @fig-danceability1-1 , there is a clear relationship between a band's loudness, energy, and danceability. Songs with higher loudness tend to have greater danceability, as indicated by the positive trend in the first scatter plot's line of best fit. Conversely, the second plot reveals that tracks with lower energy are also more danceable. These visual trends confirm that increasing loudness and decreasing energy are both associated with higher danceability in a band's music.

```{r}
#| label: fig-danceability1
#| fig-cap: Danceability Correlation
#| echo: false
#| warning: false
#| message: false

# Load necessary libraries
library(ggplot2)
library(here)
library(dplyr)

# Load the data
music <- read.csv(here::here("data/analysis_data/music_data.csv"))

# Scatter plot: Danceability vs Loudness
ggplot(music, aes(x = Loudness, y = Danceability)) + 
  geom_point(color = "black", alpha = 0.6) + 
  geom_smooth(method = "lm", se = FALSE, color = "red", formula = y ~ x) +  # Add line of best fit
  scale_x_continuous(labels = scales::comma) + 
  labs(title = "Danceability vs Loudness", x = "Loudness", y = "Danceability") + 
  theme_minimal()

# Scatter plot: Danceability vs Energy
ggplot(music, aes(x = Energy, y = Danceability)) + 
  geom_point(color = "black", alpha = 0.6) + 
  geom_smooth(method = "lm", se = FALSE, color = "red", formula = y ~ x) +  # Add line of best fit
  scale_x_continuous(labels = scales::comma) + 
  labs(title = "Danceability vs Energy", x = "Energy", y = "Danceability") + 
  theme_minimal()
```

\newpage  

## Implications {#sec-implications}
While Spotify’s data doesn’t explicitly reveal how metrics like danceability are measured, we can infer that factors such as loudness and energy contribute to this metric. As shown in @fig-danceability, bands like Coldplay with higher energy and loudness tend to align with a more mainstream, dynamic sound, which could contribute to a higher perceived danceability. Radiohead, with lower energy and loudness, may favor more introspective and atmospheric compositions, which might explain a lower danceability score. The National’s combination of moderate energy, lower loudness, and higher danceability suggests that other subtler factors, like rhythm or emotional resonance, could play a role. These patterns imply that metrics like energy and loudness might be indirectly influencing danceability, shaping the overall listening experience in ways we can interpret but not fully quantify.

# References {#sec-references}

For data analysis, we used R [@R-base], [@tidyverse], and the `spotifyr` package [@spotifyr]. The data was obtained through the Spotify API [@spotify-api], and the starter folder was retrieved from a github reposository [@alexander2021].
